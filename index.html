<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDV A√ßa√≠ da Serra</title>
    <link rel="icon" href="image/Icoacaidaserra.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <div class="app-wrapper">
        <!-- SIDEBAR (MENU LATERAL) -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="image/acaidaserra.png" alt="Logo" class="sidebar-logo">
                <div class="sidebar-title">A√ßa√≠ da Serra</div>
                <div class="sidebar-subtitle">Sistema PDV</div>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-item active" data-tab="venda">
                    <span class="nav-icon">üõçÔ∏è</span>
                    <span class="nav-text">Venda</span>
                </div>
                <div class="nav-item" data-tab="produtos">
                    <span class="nav-icon">üç¶</span>
                    <span class="nav-text">Produtos</span>
                </div>
                <div class="nav-item" data-tab="comandas">
                    <span class="nav-icon">üìã</span>
                    <span class="nav-text">Comandas</span>
                    <span class="nav-badge" id="open-orders-count" style="display: none;">0</span>
                </div>
                <div class="nav-item" data-tab="historico">
                    <span class="nav-icon">üìú</span>
                    <span class="nav-text">Hist√≥rico</span>
                </div>
                <div class="nav-item" data-tab="despesas">
                    <span class="nav-icon">üí∏</span>
                    <span class="nav-text">Despesas</span>
                </div>
                <div class="nav-item" data-tab="caixa">
                    <span class="nav-icon">üè™</span>
                    <span class="nav-text">Caixa</span>
                </div>
                <div class="nav-item" data-tab="admin">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span class="nav-text">Admin</span>
                </div>
            </nav>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <!-- TOPBAR -->
            <div class="topbar">
                <div class="topbar-title" id="topbar-title">PDV - Ponto de Venda</div>
                <div class="topbar-info">
                    <div class="date-badge" id="current-date">--/--/----</div>
                    <div class="user-badge" style="display: none;" id="user-badge">
                        <span>üë§</span>
                        <span id="logged-user">Admin</span>
                    </div>
                </div>
            </div>

            <!-- CONTENT WRAPPER -->
            <div class="content-wrapper">
                <!-- ABA VENDA -->
                <div class="tab-content active" id="venda-tab">
                    <!-- Banner de Desconto -->
                    <div class="discount-banner" id="discount-banner">
                        <span class="discount-icon">üè∑Ô∏è</span>
                        <div class="discount-text-wrapper">
                            <div class="discount-title">PROMO√á√ÉO ATIVA!</div>
                            <div class="discount-details" id="discount-details">10% OFF em A√ßa√≠</div>
                        </div>
                    </div>

                    <!-- LAYOUT DE 3 COLUNAS -->
                    <div class="three-column-layout">
                        <!-- COLUNA ESQUERDA: PESAGEM E PRODUTOS -->
                        <div>
                            <!-- Venda por KG -->
                            <div class="card">
                                <div class="card-header">
                                    <div>
                                        <div class="card-title">üè≠ Venda por KG</div>
                                        <div class="card-subtitle">Selecione o produto e informe o peso</div>
                                    </div>
                                    <div class="card-badge">R$ <span id="weighted-product-price-display">0.00</span>/kg</div>
                                </div>

                                <!-- Seletor de Produto -->
                                <div class="product-selector" id="product-type-selector">
                                    <div class="product-btn active" data-type="acai">
                                        <div class="product-icon">
                                            <img src="image/acai.png" alt="A√ßa√≠">
                                        </div>
                                        <div class="product-name">A√ßa√≠</div>
                                        <div class="product-price-tag" id="acai-price-tag">R$ 45,90/kg</div>
                                    </div>
                                    <div class="product-btn" data-type="sorvete">
                                        <div class="product-icon">
                                            <img src="image/sorvete.png" alt="Sorvete">
                                        </div>
                                        <div class="product-name">Sorvete</div>
                                        <div class="product-price-tag" id="sorvete-price-tag">R$ 45,90/kg</div>
                                    </div>
                                </div>

                                <!-- Input de Peso -->
                                <div class="weight-input-group">
                                    <div class="input-wrapper">
                                        <label class="input-label">Peso (gramas)</label>
                                        <input type="number" class="weight-input" id="weight-input" placeholder="0" min="0">
                                    </div>
                                    <button id="add-to-cart" class="btn btn-primary btn-lg" style="align-self: flex-end;">
                                        Adicionar
                                    </button>
                                </div>

                                <!-- Pre√ßo Calculado -->
                                <div class="calculated-price">
                                    <span class="calculated-label">Valor calculado:</span>
                                    <span class="calculated-value">R$ <span id="calculated-price">0.00</span></span>
                                </div>
                            </div>

                            <!-- Produtos R√°pidos -->
                            <div class="card" style="margin-top: 20px;">
                                <div class="card-header">
                                    <div class="card-title">‚ö° Produtos R√°pidos</div>
                                </div>
                                <div class="quick-products-grid" id="quick-products-grid">
                                    <!-- Preenchido dinamicamente -->
                                </div>
                            </div>
                        </div>

                        <!-- COLUNA CENTRAL: CARRINHO -->
                        <div class="cart-sticky">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">üõçÔ∏è Carrinho</div>
                                </div>

                                <!-- Items do Carrinho -->
                                <div class="cart-items-wrapper" id="cart-items">
                                    <div class="cart-empty">
                                        <div class="cart-empty-icon">üõçÔ∏è</div>
                                        <div>Carrinho vazio</div>
                                    </div>
                                </div>

                                <!-- Resumo -->
                                <div class="cart-summary" id="cart-summary" style="display: none;">
                                    <div class="summary-row">
                                        <span>Subtotal:</span>
                                        <span id="subtotal">R$ 0,00</span>
                                    </div>
                                    <div class="summary-row total">
                                        <span>Total:</span>
                                        <span id="total">R$ 0,00</span>
                                    </div>
                                </div>

                                <!-- A√ß√µes do Carrinho -->
                                <div class="cart-actions">
                                    <button id="hold-sale" class="btn btn-warning">üìã Comanda</button>
                                    <button id="cancel-sale" class="btn btn-danger">‚ùå Cancelar</button>
                                </div>

                                <!-- Modo de Entrega -->
                                <div class="delivery-mode-section">
                                    <label class="input-label">Tipo de Venda</label>
                                    <div class="delivery-toggle" id="delivery-mode-selector">
                                        <div class="delivery-btn active" data-mode="balcao">
                                            üè™ Balc√£o
                                        </div>
                                        <div class="delivery-btn" data-mode="entrega">
                                            üöö Entrega
                                        </div>
                                    </div>
                                    <div class="delivery-fields" id="delivery-info-section">
                                        <input type="text" id="delivery-customer-name" class="form-input" placeholder="Nome do Cliente">
                                        <input type="text" id="delivery-customer-address" class="form-input" placeholder="Endere√ßo">
                                        <input type="number" id="delivery-fee" class="form-input" placeholder="Taxa de Entrega (R$)" step="0.01">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- COLUNA DIREITA: PAGAMENTO -->
                        <div class="payment-sticky">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">üí≥ Pagamento</div>
                                </div>

                                <!-- Op√ß√µes de Pagamento -->
                                <div class="payment-options">
                                    <div class="payment-option" data-method="cash">
                                        <span class="payment-icon">üíµ</span>
                                        <span class="payment-label">Dinheiro</span>
                                    </div>
                                    <div class="payment-option" data-method="card">
                                        <span class="payment-icon">üí≥</span>
                                        <span class="payment-label">Cart√£o</span>
                                    </div>
                                    <div class="payment-option" data-method="pix">
                                        <span class="payment-icon">üì±</span>
                                        <span class="payment-label">PIX</span>
                                    </div>
                                </div>

                                <!-- Se√ß√£o de Dinheiro -->
                                <div class="cash-section" id="cash-input">
                                    <label class="input-label">Valor Recebido</label>
                                    <input type="number" id="cash-received" class="cash-received-input" placeholder="R$ 0,00" step="0.01">
                                    <div class="change-display" id="change-display">
                                        <div class="change-label">Troco</div>
                                        <div class="change-amount">R$ <span id="change-amount">0,00</span></div>
                                    </div>
                                </div>

                                <!-- Bot√£o Finalizar -->
                                <button id="confirm-payment" class="btn btn-success btn-block btn-lg" style="display: none;">
                                    ‚úîÔ∏è Finalizar Venda
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ABA PRODUTOS -->
                <div class="tab-content" id="produtos-tab">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">üç¶ Cat√°logo de Produtos</div>
                        </div>
                        
                        <div class="products-header">
                            <input type="search" id="product-search" class="search-input" placeholder="üîç Pesquisar produtos...">
                        </div>
                        
                        <div class="category-filters" id="products-categories-list">
                            <!-- Preenchido dinamicamente -->
                        </div>
                        
                        <div class="products-grid" id="products-grid">
                            <!-- Preenchido dinamicamente -->
                        </div>
                    </div>
                </div>

                <!-- ABA COMANDAS -->
                <div class="tab-content" id="comandas-tab">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">üìã Comandas em Aberto</div>
                        </div>
                        <div class="orders-grid" id="open-orders-grid">
                            <div class="empty-state">
                                <div class="empty-icon">üìã</div>
                                <div class="empty-text">Nenhuma comanda em aberto</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ABA HIST√ìRICO -->
                <div class="tab-content" id="historico-tab">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">üìú Hist√≥rico de Vendas</div>
                        </div>
                        
                        <div class="history-controls">
                            <input type="date" class="date-input" id="history-date">
                            <button id="add-manual-sale-btn" class="btn btn-primary">+ Adicionar Venda</button>
                            <button id="export-history-pdf" class="btn btn-secondary">üìÑ Exportar PDF</button>
                        </div>
                        
                        <div class="history-list" id="sales-history">
                            <div class="empty-state">
                                <div class="empty-icon">üìÖ</div>
                                <div class="empty-text">Nenhuma venda para esta data</div>
                            </div>
                        </div>
                        
                        <div class="cart-summary" id="history-summary" style="margin-top: 20px; display: none;">
                            <div class="summary-row">
                                <span>Total em Produtos:</span>
                                <span id="history-products-total">R$ 0,00</span>
                            </div>
                            <div class="summary-row">
                                <span>Total em Entregas:</span>
                                <span id="history-delivery-total">R$ 0,00</span>
                            </div>
                            <div class="divider"></div>
                            <div class="summary-row">
                                <span>üíµ Dinheiro:</span>
                                <span id="history-cash-total">R$ 0,00</span>
                            </div>
                            <div class="summary-row">
                                <span>üí≥ Cart√£o:</span>
                                <span id="history-card-total">R$ 0,00</span>
                            </div>
                            <div class="summary-row">
                                <span>üì± PIX:</span>
                                <span id="history-pix-total">R$ 0,00</span>
                            </div>
                            <div class="divider"></div>
                            <div class="summary-row" style="color: var(--danger);">
                                <span>Total em Despesas:</span>
                                <span id="history-expenses-total">R$ 0,00</span>
                            </div>
                            <div class="summary-row total">
                                <span>Saldo do Dia:</span>
                                <span id="history-grand-total">R$ 0,00</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ABA DESPESAS -->
                <div class="tab-content" id="despesas-tab">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">üí∏ Registro de Despesas</div>
                        </div>
                        
                        <div class="expense-form">
                            <input type="text" id="new-expense-name" class="form-input" placeholder="Nome da Despesa">
                            <input type="text" id="new-expense-desc" class="form-input" placeholder="Descri√ß√£o (opcional)">
                            <input type="number" id="new-expense-value" class="form-input" placeholder="Valor (R$)" step="0.01">
                            <button id="add-new-expense-btn" class="btn btn-primary">+ Adicionar</button>
                        </div>
                        
                        <div style="margin: 20px 0;">
                            <label class="input-label">Filtrar por Data</label>
                            <input type="date" class="date-input" id="expense-date" style="width: 250px;">
                        </div>
                        
                        <div id="expenses-history-list">
                            <div class="empty-state">
                                <div class="empty-icon">üí∏</div>
                                <div class="empty-text">Nenhuma despesa para esta data</div>
                            </div>
                        </div>
                        
                        <div class="cart-summary" id="expenses-summary" style="margin-top: 20px; display: none;">
                            <div class="summary-row total" style="color: var(--danger);">
                                <span>Total de Despesas do Dia:</span>
                                <span id="expenses-total-today">R$ 0,00</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ABA CAIXA -->
                <div class="tab-content" id="caixa-tab">
                    <!-- Abertura de Caixa -->
                    <div class="card" id="cash-register-opening" style="display: none;">
                        <div class="card-header">
                            <div class="card-title">üè™ Abertura de Caixa</div>
                        </div>
                        
                        <p style="margin-bottom: 20px; color: var(--gray-600);">Informe os valores dispon√≠veis na gaveta para iniciar o expediente.</p>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Total em C√©dulas (R$)</label>
                                <input type="number" id="opening-bills" class="form-input" placeholder="0.00" step="0.01">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Total em Moedas (R$)</label>
                                <input type="number" id="opening-coins" class="form-input" placeholder="0.00" step="0.01">
                            </div>
                        </div>
                        
                        <div class="cart-summary">
                            <div class="summary-row total">
                                <span>Fundo Total:</span>
                                <span id="opening-total-display">R$ 0,00</span>
                            </div>
                        </div>
                        
                        <button id="btn-open-register" class="btn btn-success btn-block btn-lg" style="margin-top: 20px;">
                            Confirmar Abertura
                        </button>
                    </div>

                    <!-- Dashboard do Caixa -->
                    <div id="cash-register-dashboard" style="display: none;">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">üè™ Controle de Caixa</div>
                                <span class="status-badge open">ABERTO</span>
                            </div>
                            
                            <div class="cash-register-grid">
                                <div class="cash-stat-card info">
                                    <div class="cash-stat-label">Saldo Inicial</div>
                                    <div class="cash-stat-value" id="dash-opening-balance">R$ 0,00</div>
                                    <div class="cash-stat-sub">C√©dulas + Moedas</div>
                                </div>
                                
                                <div class="cash-stat-card success">
                                    <div class="cash-stat-label">Vendas (Dinheiro)</div>
                                    <div class="cash-stat-value" id="dash-cash-sales">R$ 0,00</div>
                                    <div class="cash-stat-sub">Entradas em esp√©cie</div>
                                </div>
                                
                                <div class="cash-stat-card danger">
                                    <div class="cash-stat-label">Sa√≠das/Despesas</div>
                                    <div class="cash-stat-value" id="dash-expenses">R$ 0,00</div>
                                    <div class="cash-stat-sub">Retiradas do caixa</div>
                                </div>
                                
                                <div class="cash-stat-card">
                                    <div class="cash-stat-label">Saldo em Gaveta</div>
                                    <div class="cash-stat-value" id="dash-current-balance">R$ 0,00</div>
                                    <div class="cash-stat-sub">Estimativa atual</div>
                                </div>
                            </div>
                            
                            <div class="divider"></div>
                            
                            <div style="background: var(--gray-100); padding: 20px; border-radius: var(--border-radius);">
                                <h3 style="font-size: 14px; margin-bottom: 12px; font-weight: 600;">Outros Recebimentos</h3>
                                <div class="summary-row">
                                    <span>üí≥ Cart√£o:</span>
                                    <span id="dash-card-total">R$ 0,00</span>
                                </div>
                                <div class="summary-row">
                                    <span>üì± PIX:</span>
                                    <span id="dash-pix-total">R$ 0,00</span>
                                </div>
                            </div>
                            
                            <button id="btn-close-register" class="btn btn-danger btn-block btn-lg" style="margin-top: 20px;">
                                Fechar Caixa
                            </button>
                        </div>
                    </div>
                </div>

                <!-- ABA ADMIN -->
                <div class="tab-content" id="admin-tab">
                    <!-- Se√ß√£o de Promo√ß√µes -->
                    <div class="card" style="margin-bottom: 20px; border: 2px solid var(--primary);">
                        <div class="card-header">
                            <div class="card-title">üè∑Ô∏è Gerenciar Promo√ß√µes</div>
                        </div>
                        
                        <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 20px;">
                            <label class="switch">
                                <input type="checkbox" id="discount-active-check">
                                <span class="slider"></span>
                            </label>
                            <span style="font-weight: 600;">Ativar Desconto</span>
                        </div>
                        
                        <div id="discount-config-area" style="opacity: 0.5; pointer-events: none;">
                            <div class="form-group">
                                <label class="form-label">Porcentagem (%)</label>
                                <input type="number" id="discount-percentage" class="form-input" value="10" min="1" max="100" style="max-width: 150px;">
                            </div>
                            
                            <div style="margin: 16px 0;">
                                <label class="checkbox-group">
                                    <input type="checkbox" id="discount-target-acai">
                                    <span class="checkbox-label">Aplicar no A√ßa√≠</span>
                                </label>
                                <label class="checkbox-group">
                                    <input type="checkbox" id="discount-target-sorvete">
                                    <span class="checkbox-label">Aplicar no Sorvete</span>
                                </label>
                            </div>
                            
                            <button id="save-discount-config" class="btn btn-primary">
                                Salvar Configura√ß√£o
                            </button>
                        </div>
                    </div>

                    <!-- Login -->
                    <div class="card" id="login-section">
                        <div class="card-header">
                            <div class="card-title">üîí Acesso Administrativo</div>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Usu√°rio</label>
                                <input type="text" id="username" class="form-input" autocomplete="off">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Senha</label>
                                <input type="password" id="password" class="form-input" autocomplete="off">
                            </div>
                        </div>
                        <button id="login-btn" class="btn btn-primary btn-block">Entrar</button>
                    </div>

                    <!-- Painel Admin (ap√≥s login) -->
                    <div class="card" id="admin-controls-panel" style="display: none;">
                        <div class="card-header">
                            <div class="card-title">‚öôÔ∏è Painel Administrativo</div>
                            <button id="logout-btn" class="btn btn-secondary btn-sm">Sair</button>
                        </div>
                        
                        <div class="admin-tabs">
                            <button class="admin-tab active" data-subtab="produtos">Produtos e Pre√ßos</button>
                            <button class="admin-tab" data-subtab="relatorios">Relat√≥rios</button>
                            <button class="admin-tab" data-subtab="config">Configura√ß√µes</button>
                        </div>

                        <!-- Sub-aba: Produtos e Pre√ßos -->
                        <div class="admin-sub-content active" id="admin-produtos-content">
                            <div class="admin-section">
                                <h3 class="admin-section-title">Pre√ßo por KG</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label">A√ßa√≠ (R$/kg)</label>
                                        <input type="number" id="acai-price" class="form-input" step="0.01">
                                        <button id="update-acai-price" class="btn btn-primary btn-sm" style="margin-top: 8px; width: 100%;">Atualizar</button>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Sorvete (R$/kg)</label>
                                        <input type="number" id="sorvete-price" class="form-input" step="0.01">
                                        <button id="update-sorvete-price" class="btn btn-primary btn-sm" style="margin-top: 8px; width: 100%;">Atualizar</button>
                                    </div>
                                </div>
                            </div>

                            <div class="admin-section">
                                <h3 class="admin-section-title">Adicionar Novo Produto</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label">Nome do Produto</label>
                                        <input type="text" id="new-product-name" class="form-input">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Pre√ßo (R$)</label>
                                        <input type="number" id="new-product-price" class="form-input" step="0.01">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Categoria</label>
                                    <input type="text" id="new-product-category" class="form-input" placeholder="Ex: Bebidas, Doces">
                                </div>
                                <button id="add-new-product-btn" class="btn btn-primary">+ Adicionar Produto</button>
                            </div>

                            <div class="admin-section">
                                <h3 class="admin-section-title">Gerenciar Produtos</h3>
                                <div class="products-grid" id="products-management">
                                    <!-- Preenchido dinamicamente -->
                                </div>
                            </div>
                        </div>

                        <!-- Sub-aba: Relat√≥rios -->
                        <div class="admin-sub-content" id="admin-relatorios-content">
                            <div class="admin-section">
                                <h3 class="admin-section-title">Relat√≥rio Mensal</h3>
                                <div class="form-group" style="max-width: 300px;">
                                    <label class="form-label">Selecione o M√™s e Ano</label>
                                    <input type="month" id="report-month-select" class="form-input">
                                </div>
                                <button id="generate-monthly-report-pdf" class="btn btn-primary">
                                    üìÑ Gerar PDF do M√™s
                                </button>
                            </div>
                        </div>

                        <!-- Sub-aba: Configura√ß√µes -->
                        <div class="admin-sub-content" id="admin-config-content">
                            <div class="admin-section">
                                <h3 class="admin-section-title">Senha de Exclus√£o</h3>
                                <div class="form-group" style="max-width: 300px;">
                                    <label class="form-label">Nova senha (4 d√≠gitos)</label>
                                    <input type="password" id="delete-password" class="form-input" maxlength="4">
                                </div>
                                <button id="update-delete-password" class="btn btn-primary">Atualizar Senha</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- MODALS -->
    
    <!-- Modal: Senha para Exclus√£o -->
    <div class="modal" id="password-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Excluir Item</h3>
            </div>
            <div class="modal-body">
                <p>Digite a senha para confirmar a exclus√£o:</p>
                <input type="password" class="form-input" id="confirm-delete-password" maxlength="4" placeholder="Senha">
            </div>
            <div class="modal-footer">
                <button id="cancel-delete" class="btn btn-secondary">Cancelar</button>
                <button id="confirm-delete" class="btn btn-danger">Confirmar</button>
            </div>
        </div>
    </div>

    <!-- Modal: Recibo -->
    <div class="modal" id="receipt-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Venda Finalizada</h3>
            </div>
            <div class="modal-body">
                <div id="receipt-content" style="font-family: 'Courier New', monospace; white-space: pre-wrap; background: #f9f9f9; padding: 20px; border-radius: 8px;"></div>
            </div>
            <div class="modal-footer">
                <button id="close-receipt-btn" class="btn btn-secondary">Fechar</button>
                <button id="print-receipt-btn" class="btn btn-success">Imprimir Recibo</button>
            </div>
        </div>
    </div>

    <!-- Modal: Venda Manual -->
    <div class="modal" id="manual-sale-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Adicionar Venda Manual</h3>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Selecionar Produto</label>
                    <select id="manual-product-select" class="form-input"></select>
                </div>
                
                <div class="form-group" id="manual-acai-weight-section" style="display: none;">
                    <label class="form-label">Peso em Gramas</label>
                    <input type="number" id="manual-acai-weight" class="form-input" placeholder="Gramas">
                </div>
                
                <button id="manual-add-item-btn" class="btn btn-primary btn-block">Adicionar Item</button>
                
                <h4 style="margin: 20px 0 10px; font-size: 14px; font-weight: 600;">Itens da Venda</h4>
                <div style="max-height: 200px; overflow-y: auto; border: 1px solid var(--gray-300); border-radius: 8px; padding: 10px; margin-bottom: 16px;" id="manual-sale-cart-items">
                    <div class="empty-state" style="padding: 20px;">Nenhum item</div>
                </div>
                
                <div class="cart-summary" id="manual-sale-summary" style="display: none;">
                    <div class="summary-row total">
                        <span>Total:</span>
                        <span id="manual-sale-total">R$ 0,00</span>
                    </div>
                </div>
                
                <h4 style="margin: 20px 0 10px; font-size: 14px; font-weight: 600;">Pagamento</h4>
                <div class="payment-options" id="manual-payment-options">
                    <div class="payment-option" data-method="cash" style="padding: 12px;">
                        <span class="payment-icon" style="font-size: 24px;">üíµ</span>
                        <span class="payment-label" style="font-size: 13px;">Dinheiro</span>
                    </div>
                    <div class="payment-option" data-method="card" style="padding: 12px;">
                        <span class="payment-icon" style="font-size: 24px;">üí≥</span>
                        <span class="payment-label" style="font-size: 13px;">Cart√£o</span>
                    </div>
                    <div class="payment-option" data-method="pix" style="padding: 12px;">
                        <span class="payment-icon" style="font-size: 24px;">üì±</span>
                        <span class="payment-label" style="font-size: 13px;">PIX</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="close-manual-sale-btn" class="btn btn-secondary">Cancelar</button>
                <button id="save-manual-sale-btn" class="btn btn-success">Salvar Venda</button>
            </div>
        </div>
    </div>

    <!-- Modal: Pagamento Posterior (Comanda) -->
    <div class="modal" id="hold-sale-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Pagamento Posterior</h3>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Nome do Cliente (para identifica√ß√£o)</label>
                    <input type="text" id="customer-name" class="form-input" placeholder="Ex: Mesa 02, Jo√£o, etc.">
                </div>
                <div class="form-group">
                    <label class="form-label">Adicionar a uma comanda existente?</label>
                    <select id="existing-order-select" class="form-input">
                        <option value="new">Salvar como nova comanda</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button id="close-hold-sale-btn" class="btn btn-secondary">Cancelar</button>
                <button id="save-hold-sale-btn" class="btn btn-success">Salvar Comanda</button>
            </div>
        </div>
    </div>

    <!-- Modal: Finalizar Comanda -->
    <div class="modal" id="open-order-modal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h3 class="modal-title" id="open-order-title">Finalizar Comanda</h3>
            </div>
            <div class="modal-body">
                <div style="background: var(--gray-100); padding: 16px; border-radius: 8px; text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 12px; color: var(--gray-600); margin-bottom: 4px;">Tempo em aberto</div>
                    <div style="font-size: 24px; font-weight: 700; color: var(--danger);" id="open-order-timer">00:00</div>
                </div>
                
                <h4 style="margin-bottom: 12px; font-size: 14px; font-weight: 600;">Itens da Comanda</h4>
                <div style="max-height: 250px; overflow-y: auto; border: 1px solid var(--gray-300); border-radius: 8px; padding: 12px; margin-bottom: 16px;" id="open-order-items-list">
                </div>
                
                <div class="cart-summary">
                    <div class="summary-row total">
                        <span>Total:</span>
                        <span id="open-order-total">R$ 0,00</span>
                    </div>
                </div>
                
                <h4 style="margin: 20px 0 12px; font-size: 14px; font-weight: 600;">Forma de Pagamento</h4>
                <div class="payment-options" id="open-order-payment-options">
                    <div class="payment-option" data-method="cash">
                        <span class="payment-icon">üíµ</span>
                        <span class="payment-label">Dinheiro</span>
                    </div>
                    <div class="payment-option" data-method="card">
                        <span class="payment-icon">üí≥</span>
                        <span class="payment-label">Cart√£o</span>
                    </div>
                    <div class="payment-option" data-method="pix">
                        <span class="payment-icon">üì±</span>
                        <span class="payment-label">PIX</span>
                    </div>
                </div>
                
                <div class="cash-section" id="open-order-cash-input">
                    <label class="input-label">Valor Recebido</label>
                    <input type="number" id="open-order-cash-received" class="cash-received-input" placeholder="R$ 0,00">
                    <div class="change-display" id="open-order-change-display">
                        <div class="change-label">Troco</div>
                        <div class="change-amount">R$ <span id="open-order-change-amount">0,00</span></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="close-open-order-btn" class="btn btn-secondary">Cancelar</button>
                <button id="confirm-open-order-payment" class="btn btn-success">Confirmar Pagamento</button>
            </div>
        </div>
    </div>

    <!-- Modal: Fechamento de Caixa -->
    <div class="modal" id="close-register-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Fechamento de Caixa</h3>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 20px; color: var(--gray-600); font-size: 14px;">
                    Preencha as informa√ß√µes abaixo para finalizar o expediente (opcional).
                </p>
                
                <div class="form-group">
                    <label class="form-label">Saldo em Gaveta (Contagem F√≠sica)</label>
                    <input type="number" id="closing-balance-input" class="form-input" placeholder="R$ 0.00" step="0.01">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Observa√ß√µes</label>
                    <textarea id="closing-observation-input" class="form-input" style="height: 100px; resize: vertical;" placeholder="Ex: Quebra de caixa, retirada para almo√ßo..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-cancel-close-register" class="btn btn-secondary">Cancelar</button>
                <button id="btn-confirm-close-register" class="btn btn-danger">Confirmar Fechamento</button>
            </div>
        </div>
    </div>

    <!-- Notifica√ß√µes -->
    <div id="notification" class="notification"></div>

    <script src="app.js"></script>
</body>
</html>